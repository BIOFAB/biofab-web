<div class='diagram <%= classes || '' %>'>
  <div class='widgetlabel'>
    <%= part.biofab_id %>
  </div>
  <div class='line'>
    <% prev_annotation = nil %>
    <% part.annotations.each do |annotation| %>
      <% if prev_annotation %>
        <div class='bottomparen'>
          <div class='parenlabel'><%= annotation.from - prev_annotation.to %></div>
        </div>
      <% end %>
      <div class='seq'>
        <div class='label'>
          <%= annotation.annotation_type.name %>
        </div>
        <div class='box'>
          <% seq = annotation.sequence || 'GATAC' # TODO fix %>
          <% seq.each_char do |nt| %>
            <div class='<%= nt.downcase %>'>
              <%= nt.upcase %>
            </div>
          <% end %>
        </div>
      </div>
      <% prev_annotation = annotation %>
    <% end %>
  </div>
</div>
